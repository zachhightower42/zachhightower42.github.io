<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ page.title | default: "Directory index" }}</title>
  <style>
    body{font-family:system-ui,Segoe UI,Arial,Helvetica,sans-serif;padding:1.25rem;max-width:980px;margin:auto}
    h1{margin-bottom:.25rem}
    .file{margin:.35rem 0}
    small{color:#666}
    ul{padding-left:1.1rem}
    .meta{font-size:.95rem;color:#444;margin-top:.5rem}
  </style>
</head>
<body>
  <h1>{{ page.title | default: page.path }}</h1>
  {% if page.description %}<p class="meta">{{ page.description }}</p>{% endif %}

  {% assign dir_prefix = page.path | replace: 'index.md', '' %}

  <h2>Pages (Markdown / HTML)</h2>
  <ul>
  {% assign matched_pages = site.pages | where_exp:"p", "p.path contains dir_prefix" | sort: "path" %}
  {% for p in matched_pages %}
    {% if p.path != page.path %}
      <li class="file">
        <a href="{{ p.url | relative_url }}">{{ p.path | replace: dir_prefix, '' }}</a>
        <small> — {{ p.title | default: p.path }}</small>
      </li>
    {% endif %}
  {% endfor %}
  {% if matched_pages == empty %}<li>No pages found.</li>{% endif %}
  </ul>

  <h2>Static files (images, PDFs, archives, binaries)</h2>
  <ul>
  {% assign matched_static = site.static_files | where_exp:"f", "f.path contains dir_prefix" | sort: "path" %}
  {% for f in matched_static %}
    <li class="file">
      <a href="{{ f.path | relative_url }}">{{ f.path | replace: dir_prefix, '' }}</a>
      <small> — {{ f.extname }}{% if f.size %}, {{ f.size }} bytes{% endif %}</small>
    </li>
  {% endfor %}
  {% if matched_static == empty %}<li>No static files found.</li>{% endif %}
  </ul>

  <p style="margin-top:1.25rem;color:#666;font-size:.9rem">
    Note: This index lists files under the current folder and its subfolders at build time (Jekyll). For immediate-folder-only listings, the template can be adjusted.
  </p>
</body>
</html>