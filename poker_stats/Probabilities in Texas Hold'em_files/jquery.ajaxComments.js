/*! 2025-08-05 */
!function(a){a.fn.ajaxComments=function(b){var c=a(this),d=a.extend({},a.fn.ajaxComments.defaults,b),e=function(b){if("undefined"==typeof c)var c=a(d.postCommentFormSelector);var e=c.find("input[name="+d.postCommentInputNames[b]+"]").val();return e},f=function(b){var c=a(b),f=c.attr("data-toggle-id"),g=a("[data-comment-id="+f+"]"),h=e("containerId"),i=e("commentType");a.post(d.toggleCommentAjaxUrl,{containerId:h,commentType:i,commentId:f},function(){g.toggleClass("commentDisabled")})},g=function(a){console.log(c),c.html(a),c.css("opacity",1)},h=function(){var b=a(d.postCommentTextInputSelector),f=a.trim(b.val());if(b.removeClass(d.postCommentErrorClass),f.length>=1){c.css("opacity",.5);var h=e("commentType"),i=e("containerId"),j=e("commentSorting"),k=e("referrer");a.ajax({url:d.postCommentAjaxUrl,type:"POST",data:{comment:f,containerId:i,commentType:h,sortComments:j,referrer:k},success:function(b,c){g(b),a(document).triggerHandler("onPostCommentSuccess",[b,c])},error:function(){c.css("opacity",1),b.addClass(d.postCommentErrorClass)}})}else b.addClass(d.postCommentErrorClass);return!1};a(document).on("click",d.toggleCommentSelector,function(){return f(this)}),a(document).on("keydown",d.postCommentFormSelector,function(){a(d.postCommentTextInputSelector).removeClass(d.postCommentErrorClass)}),a(document).on("submit",d.postCommentFormSelector,function(){return h()})},a.fn.ajaxComments.defaults={toggleCommentSelector:".js-toggleComment",postCommentFormSelector:"#postCommentForm",postCommentTextInputSelector:"#commenttextarea",commentsListSelector:".comments-list",postCommentErrorClass:"comment--input-error",postCommentInputNames:{commentType:"commentType",containerId:"containerId",commentSorting:"commentSorting",referrer:"referrer"},postCommentAjaxUrl:"/comment/post-ajax/",toggleCommentAjaxUrl:"/comment/toggle/"}}(jQuery);